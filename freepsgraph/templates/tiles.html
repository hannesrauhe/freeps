<style>
	.tile  {float: left; width: 130px; height: 150px; border: 1px solid gray; margin: 10px; overflow:hidden; padding:3px; box-sizing: border-box; }
	.tile-header  {height: 50px; margin: auto}
</style>
<meta name="viewport" content="width=device-width, initial-scale=1">
<div>
	{{ range $key, $value := ._tiles.devicelist.Output.Device }}
		{{ if or $value.HKR $value.SimpleOnOff }}
		<div class="tile">
			<div class="tile-header"> {{ $value.Name }} {{ if $value.Temperature }} - {{ $value.Temperature.Celsius }} {{ end }} </div>
			{{ if $value.HKR }}
			<div style="margin: auto">

			<form action="/fritz/sethkrtsoll" method="GET" target="outputframe" style="display: flex; justify-content: center">
			<input style="width:50px;" type="number" name="param" min="16" max="56" value="{{ $value.HKR.Tsoll }}" />
			<button name="ain" value="{{ $value.AIN }}">Set</button>
			</form>

			<form action="/fritz/sethkrtsoll" method="GET" target="outputframe">
			<input type="hidden" name="ain" value="{{ $value.AIN }}">
			<div style="display: flex; justify-content: center">
			<button name="param" value="32">16째C</button>
			<button name="param" value="38">19째C</button>
			</div>
			<div style="display: flex; justify-content: center">
			<button name="param" value="44">22째C</button>
			<button name="param" value="50">25째C</button>
			</div>
			</form>
			</div>
			{{ end}}

			{{ if $value.SimpleOnOff }}
			<div style="margin: auto">

			<form action="/fritz/setsimpleonoff"  method="GET" target="outputframe">
			<input type="hidden" name="device" value="{{ $value.AIN }}">
			<div style="display: flex; justify-content: center">
			<button name="onoff" value="1">On</button>
			<button name="onoff" value="0">Off</button>
			<button name="onoff" value="Toggle">Toggle</button>
			</div>
			</form>
			</div>
			{{ end}}
		</div>
		{{ end}}
	{{ end }}

	{{ range $key, $value := ._tiles }}
	{{ if ne $key "devicelist" }}
		<iframe name="tile-{{$key}}" class="tile" src="/graph/{{$key}}"></iframe>
	{{end}}
	{{end}}

	<iframe name="outputframe" id="outputframe" class="tile"></iframe>
</div>